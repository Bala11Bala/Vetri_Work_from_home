{% extends 'myapp/layouts/base.html' %}
{% load static %}

{% block content %}
<div class="container py-5">

  <!-- Hero -->
<section class="py-5 text-center">
  <div class="container">
    <div class="row align-items-center">
      <div class="col-md-6">
    <h1 class="fw-bold">AI Job Apply</h1>
    <p class="text-muted">Use AI-powered filters, role-based search, and keyword optimization to apply for the right jobs effortlessly.</p>
      </div>
      <div class="col-md-6">
        <img src="{% static 'images/ai_job_apply.png' %}" 
             alt="Resume AI" class="img-fluid rounded" width="500px">
      </div>
    </div>
  </div>
</section>

  <!-- How it Works -->
  <h3 class="text-center mb-4 mt-5">How It Works</h3>
  <p class="text-center mt-2">Simple steps to land your dream job</p>
  <div class="row text-center">
    <div class="col-md-3 mb-3">
      <div class="card p-3 shadow-sm h-100">
        <img src="{% static 'images/1.png' %}" alt="image" class="mx-auto mb-3" width="50">
        <h5>Enter Keywords & Select Role</h5>
        <p class="mt-3">Input your desired job title and relevant keywords</p>
      </div>
    </div>
    <div class="col-md-3 mb-3">
      <div class="card p-3 shadow-sm h-100">
        <img src="{% static 'images/2.png' %}" alt="image" class="mx-auto mb-3" width="50">
        <h5>Al Filters Jobs by Experience + Skills</h5>
        <p class="mt-3">Our Al matches jobs based on your profile and requirements</p>
      </div>
    </div>
    <div class="col-md-3 mb-3">
      <div class="card p-3 shadow-sm h-100">
        <img src="{% static 'images/3.png' %}" alt="image" class="mx-auto mb-3" width="50">
        <h5>Apply with Al-generated Resume/Cover Letter</h5>
        <p class="mt-3">Submit optimized applications tailored for each job</p>
      </div>
    </div>
    <div class="col-md-3 mb-3">
      <div class="card p-3 shadow-sm h-100">
        <img src="{% static 'images/4.png' %}" alt="image" class="mx-auto mb-3" width="50">
        <h5>Track and Get Feedback</h5>
        <p class="mt-3">Monitor application progress and receive improvement tips</p>
      </div>
    </div>
  </div>

  <!-- Filters -->
  <h3 class="text-center mt-5">Smart Job Search</h3>
  <p class="text-center mt-3"> AI-powered filters to find your perfect match</p>
<form method="get" class="row g-2 mb-3 mt-5">
  <div class="col-md-3">
    <input type="text" name="keyword" class="form-control" placeholder="Keyword (e.g. Python)" value="{{ request.GET.keyword }}">
  </div>
  <div class="col-md-3">
    <input type="text" name="course" class="form-control" placeholder="Course (e.g. B.Tech)" value="{{ request.GET.course }}">
  </div>
  <div class="col-md-3">
    <input type="text" name="location" class="form-control" placeholder="Location" value="{{ request.GET.location }}">
  </div>
  <div class="col-md-3">
    <select name="salary" class="form-select">
      <option value="">Select Salary Range</option>
      <option value="50K-100K" {% if request.GET.salary == "50K-100K" %}selected{% endif %}>50K-100K</option>
      <option value="100K-150K" {% if request.GET.salary == "100K-150K" %}selected{% endif %}>100K-150K</option>
      <option value="150K-200K" {% if request.GET.salary == "150K-200K" %}selected{% endif %}>150K-200K</option>
    </select>
  </div>
  <div class="col-md-12">
    <button type="submit" class="btn btn-primary w-100">Search</button>
  </div>
</form>



  <!-- Job Listings -->
  <h3 class="mt-5">Perfect Job Matches</h3>
<div class="row">
  {% for job in jobs %}
    <div class="col-md-6 mb-4">
      <div class="card shadow-sm h-100">
        <div class="card-body">
          <h5 class="card-title">{{ job.title }}</h5>
          <p class="text-muted">{{ job.company }} â€¢ {{ job.location }}</p>
          <p><strong>Role:</strong> {{ job.role }}</p>
          <p><strong>Skills:</strong> {{ job.skills }}</p>
          <p><strong>Course Match:</strong> {{ request.GET.course }}</p>
          <a href="{% url 'job_detail' job.id %}" class="btn btn-outline-primary">View Details</a>
        </div>
      </div>
    </div>
  {% empty %}
    <p class="text-muted">No jobs found for this course.</p>
  {% endfor %}
</div>

</div>
{% endblock %}
